df_list <- list()
for (i in 1:n){
message ("Running Iteration Number::", i)
tryCatch({df_list[[i]] = lasso(x, odata)}, error=function(e){cat("ERROR :",conditionMessage(e), "\n")})
}
# flat list to df
df <- do.call(rbind,df_list)
# # filter combined df based on unique otus
df_uniq = df %>% distinct(otus, .keep_all = TRUE)
df_uniq
}
model.lasso(n=3, x, odata)
document()
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
physeqobj = phyobj
cordata = sparcc.cor
pdata = sparcc.pval
model = c("lm","lasso")
iters = 2
OTU_OTU_pvalue = 0.001
OTU_OTU_rvalue = 0.6
OTU_Phenotype_pvalue = 0.6
definePhenotype="Marketable"
defineTreatment="Maxifort"
coloredby="Phylum"
PhenoNodecolor="yellow"
PhenoNodesize=20
PhenoNodelabel="Yield"
nodesize=10
Pheno2OTUedgecolor = "black"
netlayout=layout.fruchterman.reingold
PhONA(physeqobj, model="lasso")
document()
document()
PhONA(physeqobj, model="lasso")
document()
help(model.lasso)
model.lasso
PhONA(physeqobj, model="lasso")
document()
physeqobj = phyobj
cordata = sparcc.cor
pdata = sparcc.pval
model = c("lm","lasso")
iters = 2
OTU_OTU_pvalue = 0.001
OTU_OTU_rvalue = 0.6
OTU_Phenotype_pvalue = 0.6
definePhenotype="Marketable"
defineTreatment="Maxifort"
coloredby="Phylum"
PhenoNodecolor="yellow"
PhenoNodesize=20
PhenoNodelabel="Yield"
nodesize=10
Pheno2OTUedgecolor = "black"
netlayout=layout.fruchterman.reingold
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
iiters
iters
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
tax_table(physeqobj)
aa = tax_table(physeqobj)
aa
type(aa)
class(aa)
data.frame(as(tax_table(physeqobj), "matrix"))
aa =data.frame(as(tax_table(physeqobj), "matrix"))
aa
dim(aa)
document()
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
print(bb)
print(aa)
document()
PhONA(physeqobj, model="lasso")
message(\n)
message("\n")
document()
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
install.packages("tictoc")
install.packages("tictoc")
require(tictoc)
tic()
rnorm(1000,0,1)
toc()
toc() - tic()
require(tictoc)
tic()
rnorm(1000,0,1)
toc()
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
message ("\n")
document()
PhONA(physeqobj, model="lm")
document()
PhONA(physeqobj, model="lm")
PhONA(physeqobj, model="lasso")
document()
PhONA(physeqobj, model="lasso")
PhONA(physeqobj, model="lasso", iters = 10)
document()
document()
document()
build()
browseVignettes()
browseVignettes("PhONA")
help(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
document()
document()
load_all()
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
install.packages("evaluate")
install.packages("evaluate")
install.packages("evaluate")
install.packages("evaluate")
library(evaluate)
build()
help(PhONA)
help(lasso)
help(model.lasso)
help(model.linear)
library(tufte)
library(PhONA)
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
# installation
# library(devtools)
# devtools::install_github("ravinpoudel/PhONA", build_vignettes = TRUE, force = TRUE, auth = "5c5decd148f0378dcb762e7b14c3d1508ef49ba2")
# Browse Vignettes to see the output as below.
# browseVignettes("PhONA")
library(tufte)
library(PhONA)
###### Load the data
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(devtools)
document()
help(PhONA)
remove.packages("knitr")
remove.packages("knitr")
remove.packages("knitr")
install.packages("knitr")
install.packages("knitr")
library(knitr)
library(tufte)
library(PhONA)
# installation
# library(devtools)
# devtools::install_github("ravinpoudel/PhONA", build_vignettes = TRUE, force = TRUE, auth = "5c5decd148f0378dcb762e7b14c3d1508ef49ba2")
# Browse Vignettes to see the output as below.
# browseVignettes("PhONA")
library(tufte)
library(PhONA)
###### Load the data
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
do.call()
library(devtools)
document()
library(tufte)
library(PhONA)
library(tufte)
library(PhONA)
###### Load the data
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
physeqobj = phyobj
cordata = sparcc.cor
pdata = sparcc.pval
model = c("lm","lasso")
iters = 2
OTU_OTU_pvalue = 0.001
OTU_OTU_rvalue = 0.6
OTU_Phenotype_pvalue = 0.6
definePhenotype="Marketable"
defineTreatment="Maxifort"
coloredby="Phylum"
PhenoNodecolor="yellow"
PhenoNodesize=20
PhenoNodelabel="Yield"
nodesize=10
Pheno2OTUedgecolor = "black"
netlayout=layout.fruchterman.reingold
PhONA(physeqobj, model="lm")
PhONA(physeqobj, model="lasso")
PhONA(physeqobj, model="lasso", iters = 2)
# installation
# library(devtools)
# devtools::install_github("ravinpoudel/PhONA", build_vignettes = TRUE, force = TRUE, auth = "5c5decd148f0378dcb762e7b14c3d1508ef49ba2")
# Browse Vignettes to see the output as below.
# browseVignettes("PhONA")
library(tufte)
library(PhONA)
###### Load the data
phyobj <- readRDS(system.file("extdata", "physeqobject.rds", package = "PhONA"))
sparcc.cor <- read.delim(system.file("extdata", "cor_sparcc.out", package = "PhONA"), sep = "\t", header = T, row.names = 1)
sparcc.pval <- read.delim(system.file("extdata", "pvals.txt", package = "PhONA"), sep = "\t", header = T, row.names = 1)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lm",
iters=1,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
library(PhONA)
PhONA(
physeqobj = phyobj,
cordata = sparcc.cor,
pdata = sparcc.pval,
model = "lasso",
iters=2,
OTU_OTU_pvalue = 0.001,
OTU_OTU_rvalue = 0.6,
OTU_Phenotype_pvalue = 0.6,
definePhenotype = "Marketable",
defineTreatment = "Maxifort",
coloredby = "Phylum",
PhenoNodecolor = "yellow",
PhenoNodesize = 20,
PhenoNodelabel = "Yield",
nodesize = 10,
Pheno2OTUedgecolor = "black",
netlayout = layout.fruchterman.reingold
)
knit_with_parameters('~/Documents/PhONA/vignettes/PhONA.Rmd')
remove.packages("yaml")
library(yaml)
install.packages("yam")
install.packages("yaml")
install.packages("yaml")
library("yaml")
